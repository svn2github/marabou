#!/usr/bin/perl
$mode{'P'} = "\033[0;1m\033[43;31m";
$mode{'A'} = "\033[0;1m\033[43;39m";
$mode{'C'} = "\033[43;39m";
$mode{'E'} = "\033[0;1m\033[49;31m";
$mode{'W'} = "\033[0;1m";
$mode{'N'} = "\033[0;1m\033[49;32m";
$mode{'I'} = '';
$mode{'D'} = '';
$mode{'9'} = "\033[49;39m\033[0m";

while (<>) {
    if (/<.>/) {
        $i = index($_, '<');
        $p = substr($_, $i + 1, 1);
        print $mode{$p} . $_ . $mode{'9'};
    } else {
        s/\^\[/chr(033)/ge;
        print;
    }
}
